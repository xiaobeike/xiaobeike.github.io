<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆå·¥å…· v3.0 - å¤šæ¬¾å¡ç‰‡å¼æ¨¡æ¿</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background: #fff;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 24px;
            color: #333;
        }

        .header-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .template-selector {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .template-btn {
            padding: 8px 16px;
            background: #fff;
            border: 2px solid #e0e0e0;
            color: #666;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .template-btn:hover {
            border-color: #07c160;
            color: #07c160;
        }

        .template-btn.active {
            background: #07c160;
            border-color: #07c160;
            color: white;
        }

        .btn {
            padding: 10px 20px;
            background: #07c160;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #06ad56;
        }

        .btn-secondary {
            background: #666;
        }

        .btn-secondary:hover {
            background: #555;
        }

        .main {
            display: flex;
            flex: 1;
            padding: 20px;
            gap: 20px;
            height: calc(100vh - 180px);
        }

        .panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        .panel-header {
            padding: 10px 20px;
            background: #f9f9f9;
            border-bottom: 1px solid #e0e0e0;
            font-weight: bold;
            color: #666;
            font-size: 14px;
        }

        #input {
            flex: 1;
            padding: 20px;
            border: none;
            resize: none;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            outline: none;
        }

        #preview-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #fff;
        }

        #preview {
            min-height: 100%;
        }

        #message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #07c160;
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            display: none;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .preview-note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 10px 0;
            font-size: 13px;
            color: #856404;
        }

        .template-category {
            margin-bottom: 10px;
            font-size: 12px;
            color: #999;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-top">
            <h1>å¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆå·¥å…· v3.0</h1>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="resetToDefault()">æ¢å¤é»˜è®¤</button>
                <button class="btn" onclick="copyToWechat()">å¤åˆ¶åˆ°å…¬ä¼—å·</button>
            </div>
        </div>
        <div class="preview-note">
            ğŸ’¡ æ–°å¢å¤šæ¬¾å¡ç‰‡å¼æ¨¡æ¿ï¼ä½¿ç”¨å†…è”æ ·å¼ï¼Œå¤åˆ¶åˆ°å¾®ä¿¡å…¬ä¼—å·ç¼–è¾‘å™¨åæ ·å¼ä¼šå®Œç¾ä¿ç•™ã€‚
        </div>
        <div class="template-category">ğŸ“ åŸºç¡€æ¨¡æ¿</div>
        <div class="template-selector" style="margin-top: 10px;">
            <button class="template-btn active" data-template="simple" onclick="switchTemplate('simple')">ç®€çº¦æ¸…æ–°</button>
            <button class="template-btn" data-template="warm" onclick="switchTemplate('warm')">æ¸©æš–æ²»æ„ˆ</button>
            <button class="template-btn" data-template="business" onclick="switchTemplate('business')">å•†åŠ¡ä¸“ä¸š</button>
            <button class="template-btn" data-template="literary" onclick="switchTemplate('literary')">æ–‡è‰ºæ¸…æ–°</button>
            <button class="template-btn" data-template="elegant" onclick="switchTemplate('elegant')">ä¼˜é›…å¤§æ°”</button>
        </div>
        <div class="template-category" style="margin-top: 15px;">ğŸ¨ å¡ç‰‡å¼æ¨¡æ¿</div>
        <div class="template-selector" style="margin-top: 10px;">
            <button class="template-btn" data-template="card-green" onclick="switchTemplate('card-green')">æ¸…æ–°ç»¿å¡</button>
            <button class="template-btn" data-template="card-blue" onclick="switchTemplate('card-blue')">å•†åŠ¡è“å¡</button>
            <button class="template-btn" data-template="card-orange" onclick="switchTemplate('card-orange')">æ¸©æš–æ©™å¡</button>
            <button class="template-btn" data-template="card-purple" onclick="switchTemplate('card-purple')">ä¼˜é›…ç´«å¡</button>
            <button class="template-btn" data-template="card-pink" onclick="switchTemplate('card-pink')">æµªæ¼«ç²‰å¡</button>
            <button class="template-btn" data-template="card-dark" onclick="switchTemplate('card-dark')">æ·±è‰²å¡ç‰‡</button>
            <button class="template-btn" data-template="card-gradient" onclick="switchTemplate('card-gradient')">æ¸å˜å¡ç‰‡</button>
            <button class="template-btn" data-template="card-shadow" onclick="switchTemplate('card-shadow')">ç«‹ä½“é˜´å½±</button>
        </div>
    </header>

    <div class="main">
        <div class="panel">
            <div class="panel-header">Markdown è¾“å…¥</div>
            <textarea id="input" placeholder="åœ¨è¿™é‡Œè¾“å…¥ Markdown æ ¼å¼çš„æ–‡ç« ..."></textarea>
        </div>
        <div class="panel">
            <div class="panel-header">é¢„è§ˆï¼ˆå¾®ä¿¡å…¬ä¼—å·æ ¼å¼ï¼‰</div>
            <div id="preview-container">
                <div id="preview"></div>
            </div>
        </div>
    </div>

    <div id="message">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼</div>

    <script>
        const input = document.getElementById('input');
        const preview = document.getElementById('preview');

        // åŸºç¡€æ¨¡æ¿
        const baseTemplates = {
            simple: {
                name: 'ç®€çº¦æ¸…æ–°',
                styles: {
                    h1: { fontSize: '20px', fontWeight: 'bold', color: '#333333', marginBottom: '20px', marginTop: '20px' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#07c160', marginBottom: '15px', marginTop: '25px', paddingBottom: '8px', borderBottom: '2px solid #07c160' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#333333', marginBottom: '12px', marginTop: '20px' },
                    p: { fontSize: '15px', lineHeight: '1.8', color: '#333333', marginBottom: '15px', marginTop: '15px', textAlign: 'justify' },
                    strong: { color: '#07c160', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#f8f8f8', borderLeft: '4px solid #07c160', padding: '15px', marginBottom: '15px', marginTop: '15px', fontSize: '14px', lineHeight: '1.6', color: '#666666' },
                    code: { backgroundColor: '#f8f8f8', padding: '2px 6px', fontSize: '14px', color: '#333333' },
                    pre: { backgroundColor: '#f8f8f8', padding: '15px', marginBottom: '15px', marginTop: '15px', overflow: 'auto' },
                    hr: { border: 'none', borderTop: '1px dashed #d0d0d0', marginBottom: '20px', marginTop: '20px' },
                    ul: { marginBottom: '15px', marginTop: '15px', paddingLeft: '30px', fontSize: '15px', lineHeight: '1.8', color: '#333333' },
                    ol: { marginBottom: '15px', marginTop: '15px', paddingLeft: '30px', fontSize: '15px', lineHeight: '1.8', color: '#333333' },
                    li: { marginBottom: '8px', marginTop: '8px', color: '#333333' }
                }
            },
            warm: {
                name: 'æ¸©æš–æ²»æ„ˆ',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#ff6b35', marginBottom: '20px', marginTop: '20px' },
                    h2: { fontSize: '19px', fontWeight: 'bold', color: '#ff8c00', marginBottom: '15px', marginTop: '25px', paddingBottom: '10px', borderBottom: '3px solid #ff8c00' },
                    h3: { fontSize: '17px', fontWeight: 'bold', color: '#ff6b35', marginBottom: '12px', marginTop: '20px' },
                    p: { fontSize: '16px', lineHeight: '2', color: '#333333', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#ff6b35', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#fff5e6', borderLeft: '5px solid #ff8c00', padding: '18px', marginBottom: '18px', marginTop: '18px', fontSize: '15px', lineHeight: '1.8', color: '#666666' },
                    code: { backgroundColor: '#fff5e6', padding: '3px 8px', fontSize: '15px', color: '#333333' },
                    pre: { backgroundColor: '#fff5e6', padding: '18px', marginBottom: '18px', marginTop: '18px', overflow: 'auto' },
                    hr: { border: 'none', borderTop: '2px dashed #ffcc80', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '35px', fontSize: '16px', lineHeight: '2', color: '#333333' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '35px', fontSize: '16px', lineHeight: '2', color: '#333333' },
                    li: { marginBottom: '10px', marginTop: '10px', color: '#333333' }
                }
            },
            business: {
                name: 'å•†åŠ¡ä¸“ä¸š',
                styles: {
                    h1: { fontSize: '21px', fontWeight: 'bold', color: '#1e3a8a', marginBottom: '18px', marginTop: '18px' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#2563eb', marginBottom: '12px', marginTop: '22px', paddingBottom: '8px', borderBottom: '2px solid #2563eb' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#1e3a8a', marginBottom: '10px', marginTop: '18px' },
                    p: { fontSize: '15px', lineHeight: '1.75', color: '#333333', marginBottom: '14px', marginTop: '14px', textAlign: 'justify' },
                    strong: { color: '#2563eb', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#eff6ff', borderLeft: '4px solid #2563eb', padding: '14px', marginBottom: '14px', marginTop: '14px', fontSize: '14px', lineHeight: '1.7', color: '#555555' },
                    code: { backgroundColor: '#f0f7ff', padding: '2px 6px', fontSize: '14px', color: '#1e3a8a' },
                    pre: { backgroundColor: '#f0f7ff', padding: '14px', marginBottom: '14px', marginTop: '14px', overflow: 'auto' },
                    hr: { border: 'none', borderTop: '1px solid #bfdbfe', marginBottom: '18px', marginTop: '18px' },
                    ul: { marginBottom: '14px', marginTop: '14px', paddingLeft: '28px', fontSize: '15px', lineHeight: '1.75', color: '#333333' },
                    ol: { marginBottom: '14px', marginTop: '14px', paddingLeft: '28px', fontSize: '15px', lineHeight: '1.75', color: '#333333' },
                    li: { marginBottom: '7px', marginTop: '7px', color: '#333333' }
                }
            },
            literary: {
                name: 'æ–‡è‰ºæ¸…æ–°',
                styles: {
                    h1: { fontSize: '20px', fontWeight: 'bold', color: '#7c3aed', marginBottom: '20px', marginTop: '20px' },
                    h2: { fontSize: '17px', fontWeight: 'bold', color: '#8b5cf6', marginBottom: '15px', marginTop: '25px', paddingBottom: '10px', borderBottom: '2px dotted #8b5cf6' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#7c3aed', marginBottom: '12px', marginTop: '20px' },
                    p: { fontSize: '15px', lineHeight: '2', color: '#333333', marginBottom: '16px', marginTop: '16px', textAlign: 'justify' },
                    strong: { color: '#8b5cf6', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#faf5ff', borderLeft: '4px solid #8b5cf6', padding: '16px', marginBottom: '16px', marginTop: '16px', fontSize: '14px', lineHeight: '1.8', color: '#666666' },
                    code: { backgroundColor: '#faf5ff', padding: '2px 6px', fontSize: '14px', color: '#7c3aed' },
                    pre: { backgroundColor: '#faf5ff', padding: '16px', marginBottom: '16px', marginTop: '16px', overflow: 'auto' },
                    hr: { border: 'none', borderTop: '1px solid #d8b4fe', marginBottom: '20px', marginTop: '20px' },
                    ul: { marginBottom: '16px', marginTop: '16px', paddingLeft: '30px', fontSize: '15px', lineHeight: '2', color: '#333333' },
                    ol: { marginBottom: '16px', marginTop: '16px', paddingLeft: '30px', fontSize: '15px', lineHeight: '2', color: '#333333' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#333333' }
                }
            },
            elegant: {
                name: 'ä¼˜é›…å¤§æ°”',
                styles: {
                    h1: { fontSize: '23px', fontWeight: 'bold', color: '#1f2937', marginBottom: '22px', marginTop: '22px' },
                    h2: { fontSize: '20px', fontWeight: 'bold', color: '#374151', marginBottom: '16px', marginTop: '28px', paddingBottom: '12px', borderBottom: '3px solid #9ca3af' },
                    h3: { fontSize: '17px', fontWeight: 'bold', color: '#4b5563', marginBottom: '14px', marginTop: '22px' },
                    p: { fontSize: '16px', lineHeight: '1.85', color: '#374151', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#4b5563', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#f9fafb', borderLeft: '5px solid #6b7280', padding: '20px', marginBottom: '20px', marginTop: '20px', fontSize: '15px', lineHeight: '1.8', color: '#6b7280' },
                    code: { backgroundColor: '#f3f4f6', padding: '3px 8px', fontSize: '15px', color: '#374151' },
                    pre: { backgroundColor: '#f3f4f6', padding: '20px', marginBottom: '20px', marginTop: '20px', overflow: 'auto' },
                    hr: { border: 'none', borderTop: '2px solid #d1d5db', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '16px', lineHeight: '1.85', color: '#374151' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '16px', lineHeight: '1.85', color: '#374151' },
                    li: { marginBottom: '10px', marginTop: '10px', color: '#374151' }
                }
            }
        };

        // å¡ç‰‡å¼æ¨¡æ¿
        const cardTemplates = {
            // æ¸…æ–°ç»¿å¡
            'card-green': {
                name: 'æ¸…æ–°ç»¿å¡',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#047857', marginBottom: '22px', marginTop: '22px', textAlign: 'center' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundColor: '#059669', padding: '14px 18px', borderRadius: '10px', boxShadow: '0 2px 4px rgba(5, 150, 105, 0.2)' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#065f46', marginBottom: '14px', marginTop: '20px', backgroundColor: '#ecfdf5', padding: '10px 14px', borderRadius: '8px', border: '2px solid #10b981' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#374151', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#059669', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#ecfdf5', borderLeft: '5px solid #10b981', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#065f46', borderRadius: '5px' },
                    code: { backgroundColor: '#ecfdf5', padding: '3px 7px', fontSize: '14px', color: '#047857', borderRadius: '3px' },
                    pre: { backgroundColor: '#ecfdf5', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', border: '1px solid #10b981' },
                    hr: { border: 'none', borderTop: '2px solid #6ee7b7', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#374151' }
                }
            },
            // å•†åŠ¡è“å¡
            'card-blue': {
                name: 'å•†åŠ¡è“å¡',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#1e40af', marginBottom: '22px', marginTop: '22px', textAlign: 'center' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundColor: '#3b82f6', padding: '14px 18px', borderRadius: '10px', boxShadow: '0 2px 4px rgba(59, 130, 246, 0.2)' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#1e40af', marginBottom: '14px', marginTop: '20px', backgroundColor: '#eff6ff', padding: '10px 14px', borderRadius: '8px', border: '2px solid #3b82f6' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#1f2937', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#3b82f6', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#eff6ff', borderLeft: '5px solid #3b82f6', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#1e40af', borderRadius: '5px' },
                    code: { backgroundColor: '#eff6ff', padding: '3px 7px', fontSize: '14px', color: '#1e40af', borderRadius: '3px' },
                    pre: { backgroundColor: '#eff6ff', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', border: '1px solid #3b82f6' },
                    hr: { border: 'none', borderTop: '2px solid #93c5fd', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#1f2937' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#1f2937' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#1f2937' }
                }
            },
            // æ¸©æš–æ©™å¡
            'card-orange': {
                name: 'æ¸©æš–æ©™å¡',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#c2410c', marginBottom: '22px', marginTop: '22px', textAlign: 'center' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundColor: '#f97316', padding: '14px 18px', borderRadius: '10px', boxShadow: '0 2px 4px rgba(249, 115, 22, 0.2)' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#c2410c', marginBottom: '14px', marginTop: '20px', backgroundColor: '#fff7ed', padding: '10px 14px', borderRadius: '8px', border: '2px solid #f97316' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#374151', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#f97316', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#fff7ed', borderLeft: '5px solid #f97316', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#c2410c', borderRadius: '5px' },
                    code: { backgroundColor: '#fff7ed', padding: '3px 7px', fontSize: '14px', color: '#c2410c', borderRadius: '3px' },
                    pre: { backgroundColor: '#fff7ed', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', border: '1px solid #f97316' },
                    hr: { border: 'none', borderTop: '2px solid #fdba74', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#374151' }
                }
            },
            // ä¼˜é›…ç´«å¡
            'card-purple': {
                name: 'ä¼˜é›…ç´«å¡',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#7c3aed', marginBottom: '22px', marginTop: '22px', textAlign: 'center' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundColor: '#8b5cf6', padding: '14px 18px', borderRadius: '10px', boxShadow: '0 2px 4px rgba(139, 92, 246, 0.2)' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#6d28d9', marginBottom: '14px', marginTop: '20px', backgroundColor: '#f5f3ff', padding: '10px 14px', borderRadius: '8px', border: '2px solid #8b5cf6' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#374151', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#8b5cf6', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#f5f3ff', borderLeft: '5px solid #8b5cf6', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#6d28d9', borderRadius: '5px' },
                    code: { backgroundColor: '#f5f3ff', padding: '3px 7px', fontSize: '14px', color: '#6d28d9', borderRadius: '3px' },
                    pre: { backgroundColor: '#f5f3ff', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', border: '1px solid #8b5cf6' },
                     hr: { border: 'none', borderTop: '2px solid #c4b5fd', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#374151' }
                }
            },
            // æµªæ¼«ç²‰å¡
            'card-pink': {
                name: 'æµªæ¼«ç²‰å¡',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#db2777', marginBottom: '22px', marginTop: '22px', textAlign: 'center' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundColor: '#ec4899', padding: '14px 18px', borderRadius: '10px', boxShadow: '0 2px 4px rgba(236, 72, 153, 0.2)' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#be185d', marginBottom: '14px', marginTop: '20px', backgroundColor: '#fdf2f8', padding: '10px 14px', borderRadius: '8px', border: '2px solid #ec4899' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#374151', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#ec4899', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#fdf2f8', borderLeft: '5px solid #ec4899', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#be185d', borderRadius: '5px' },
                    code: { backgroundColor: '#fdf2f8', padding: '3px 7px', fontSize: '14px', color: '#be185d', borderRadius: '3px' },
                    pre: { backgroundColor: '#fdf2f8', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', border: '1px solid #ec4899' },
                     hr: { border: 'none', borderTop: '2px solid #f9a8d4', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#374151' }
                }
            },
            // æ·±è‰²å¡ç‰‡
            'card-dark': {
                name: 'æ·±è‰²å¡ç‰‡',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#ffffff', marginBottom: '22px', marginTop: '22px', textAlign: 'center', backgroundColor: '#1f2937', padding: '15px', borderRadius: '10px' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundColor: '#374151', padding: '14px 18px', borderRadius: '10px' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#f3f4f6', marginBottom: '14px', marginTop: '20px', backgroundColor: '#4b5563', padding: '10px 14px', borderRadius: '8px' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#e5e7eb', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#60a5fa', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#374151', borderLeft: '5px solid #60a5fa', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#d1d5db', borderRadius: '5px' },
                    code: { backgroundColor: '#374151', padding: '3px 7px', fontSize: '14px', color: '#60a5fa', borderRadius: '3px' },
                    pre: { backgroundColor: '#374151', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', color: '#e5e7eb' },
                    hr: { border: 'none', borderTop: '2px solid #6b7280', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#e5e7eb' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#e5e7eb' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#e5e7eb' }
                }
            },
            // æ¸å˜å¡ç‰‡
            'card-gradient': {
                name: 'æ¸å˜å¡ç‰‡',
                styles: {
                    h1: { fontSize: '22px', fontWeight: 'bold', color: '#ffffff', marginBottom: '22px', marginTop: '22px', textAlign: 'center', backgroundImage: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', padding: '18px 20px', borderRadius: '12px' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundImage: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', padding: '14px 18px', borderRadius: '10px' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#553c9a', marginBottom: '14px', marginTop: '20px', backgroundColor: '#faf5ff', padding: '10px 14px', borderRadius: '8px', border: '2px solid #8b5cf6' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#374151', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#667eea', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#faf5ff', borderLeft: '5px solid #8b5cf6', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#6d28d9', borderRadius: '5px' },
                    code: { backgroundColor: '#faf5ff', padding: '3px 7px', fontSize: '14px', color: '#553c9a', borderRadius: '3px' },
                    pre: { backgroundColor: '#faf5ff', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', border: '1px solid #8b5cf6' },
                    hr: { border: 'none', borderTop: '2px solid #c4b5fd', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#374151' }
                }
            },
            // ç«‹ä½“é˜´å½±
            'card-shadow': {
                name: 'ç«‹ä½“é˜´å½±',
                styles: {
                     h1: { fontSize: '22px', fontWeight: 'bold', color: '#1f2937', marginBottom: '22px', marginTop: '22px', textAlign: 'center', backgroundColor: '#ffffff', padding: '18px 20px', borderRadius: '12px', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)', border: '1px solid #e5e7eb' },
                    h2: { fontSize: '18px', fontWeight: 'bold', color: '#ffffff', marginBottom: '18px', marginTop: '25px', backgroundColor: '#059669', padding: '14px 18px', borderRadius: '10px', boxShadow: '0 4px 6px -1px rgba(5, 150, 105, 0.3)' },
                    h3: { fontSize: '16px', fontWeight: 'bold', color: '#047857', marginBottom: '14px', marginTop: '20px', backgroundColor: '#ffffff', padding: '10px 14px', borderRadius: '8px', border: '2px solid #10b981', boxShadow: '0 2px 4px rgba(16, 185, 129, 0.1)' },
                    p: { fontSize: '15px', lineHeight: '1.9', color: '#374151', marginBottom: '18px', marginTop: '18px', textAlign: 'justify' },
                    strong: { color: '#059669', fontWeight: 'bold' },
                    blockquote: { backgroundColor: '#ecfdf5', borderLeft: '5px solid #10b981', padding: '16px', marginBottom: '18px', marginTop: '18px', fontSize: '14px', lineHeight: '1.7', color: '#065f46', borderRadius: '5px', boxShadow: '0 2px 4px rgba(16, 185, 129, 0.1)' },
                    code: { backgroundColor: '#ecfdf5', padding: '3px 7px', fontSize: '14px', color: '#047857', borderRadius: '3px', boxShadow: '0 1px 2px rgba(16, 185, 129, 0.1)' },
                    pre: { backgroundColor: '#ecfdf5', padding: '16px', marginBottom: '18px', marginTop: '18px', overflow: 'auto', borderRadius: '5px', border: '1px solid #10b981', boxShadow: '0 2px 4px rgba(16, 185, 129, 0.1)' },
                    hr: { border: 'none', borderTop: '2px solid #6ee7b7', marginBottom: '25px', marginTop: '25px' },
                    ul: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    ol: { marginBottom: '18px', marginTop: '18px', paddingLeft: '32px', fontSize: '15px', lineHeight: '1.9', color: '#374151' },
                    li: { marginBottom: '9px', marginTop: '9px', color: '#374151' }
                }
            }
        };

        // åˆå¹¶æ‰€æœ‰æ¨¡æ¿
        const templates = { ...baseTemplates, ...cardTemplates };

        let currentTemplate = 'simple';

        input.value = `# ä¸å¿…æ€¥ç€è¯æ˜ä»€ä¹ˆï¼ŒçœŸå®åœ°æ´»ç€å°±å¥½

æ˜¨æ™šåˆå¤±çœ äº†ã€‚

å‡Œæ™¨ä¸‰ç‚¹ï¼Œæˆ‘èººåœ¨åºŠä¸Šï¼Œçœ¼ç›ç›¯ç€å¤©èŠ±æ¿ã€‚è„‘å­é‡Œåƒæ”¾ç”µå½±ä¸€æ ·ï¼Œé—ªè¿‡å„ç§ç”»é¢ï¼š

> æ˜å¤©è¦äº¤çš„æŠ¥å‘Šè¿˜æ²¡å†™å®Œï¼Œè€æ¿ä¼šä¸ä¼šè§‰å¾—æˆ‘ä¸å¤ŸåŠªåŠ›ï¼Ÿ
>
> å­©å­çš„æ•°å­¦æˆç»©åˆä¸‹é™äº†ï¼Œé‚»å±…å®¶çš„å­©å­æ€ä¹ˆå°±èƒ½è€ƒæ»¡åˆ†ï¼Ÿ
>
> æœ‹å‹åœˆé‡Œï¼Œè€åŒå­¦åˆä¹°äº†æ–°æˆ¿ï¼Œè€Œæˆ‘è¿˜åœ¨è¿˜ç€æˆ¿è´·ã€‚

æˆ‘æœ‰æˆ¿ï¼Œæœ‰è½¦ï¼Œæœ‰å·¥ä½œï¼Œæœ‰å®¶åº­ã€‚æŒ‰ç†è¯´ï¼Œè¯¥æœ‰çš„éƒ½æœ‰äº†ã€‚å¯ä¸ºä»€ä¹ˆå¿ƒé‡Œæ€»è§‰å¾—ç©ºè½è½çš„ï¼Ÿ

å¥½åƒä¸€è¾ˆå­éƒ½åœ¨è¯æ˜ä»€ä¹ˆã€‚è¯æ˜è‡ªå·±å¤ŸåŠªåŠ›ï¼Œè¯æ˜è‡ªå·±å¤ŸæˆåŠŸï¼Œè¯æ˜è‡ªå·±æ˜¯ä¸ªå¥½çˆ¶äº²ã€å¥½å‘˜å·¥ã€å¥½å„¿å­ã€‚

**ä½†è¯æ˜ç»™è°çœ‹å‘¢ï¼Ÿ**

***

## ä¸€ã€æ¥šé—¨çš„é€‰æ‹©

å‰é˜µå­åˆçœ‹äº†ä¸€éã€Šæ¥šé—¨çš„ä¸–ç•Œã€‹ã€‚æ¯æ¬¡çœ‹ï¼Œå¿ƒé‡Œéƒ½æœ‰ç‚¹éš¾å—ã€‚

æ¥šé—¨çš„ç”Ÿæ´»å¤šå¥½å•Šã€‚æ¯å¤©æ—©ä¸Šï¼Œä»–å¯¹ç€é•œå­å¾®ç¬‘ï¼Œå’Œé‚»å±…æ‰“æ‹›å‘¼ï¼Œå¼€è½¦å»ä¸Šç­ã€‚ä»–æœ‰ç¨³å®šçš„å·¥ä½œï¼Œæœ‰å‹å¥½çš„é‚»å±…ï¼Œæœ‰ç¾ä¸½çš„å¦»å­ã€‚æ‰€æœ‰äººéƒ½çˆ±ä»–ï¼Œæ‰€æœ‰äººéƒ½å¯¹ä»–å¥½ã€‚

**å¯è¿™ä¸€åˆ‡éƒ½æ˜¯å‡çš„ã€‚**

ä»–çš„å¦»å­æ˜¯æ¼”å‘˜ï¼Œé‚»å±…æ˜¯æ¼”å‘˜ï¼Œç”šè‡³å¤©ç©ºéƒ½æ˜¯å¸ƒæ™¯ã€‚ä»–çš„ç”Ÿæ´»è¢«24å°æ—¶ç›´æ’­ï¼Œå…¨ä¸–ç•Œéƒ½åœ¨çœ‹ç€ä»–ï¼Œé™¤äº†ä»–è‡ªå·±ã€‚

***

æ¥šé—¨é€‰æ‹©äº†æ¨å¼€é‚£æ‰‡é—¨ã€‚ä»–ä¸çŸ¥é“é—¨å¤–æ˜¯ä»€ä¹ˆï¼Œä½†ä»–çŸ¥é“ï¼Œè™šå‡çš„å®Œç¾ï¼Œä¸å¦‚çœŸå®çš„æ®‹ç¼ºã€‚

**ä½ ä¸å¿…è¯æ˜è‡ªå·±æ‹¥æœ‰å®Œç¾çš„ç”Ÿæ´»ã€‚ä½ åªéœ€è¦çœŸå®åœ°æ´»ç€ã€‚**

***

## äºŒã€é˜¿ç”˜çš„è·‘æ­¥

å¦ä¸€ä¸ªè®©æˆ‘æƒ³äº†å¾ˆå¤šå¹´çš„ç”µå½±ï¼Œæ˜¯ã€Šé˜¿ç”˜æ­£ä¼ ã€‹ã€‚

é˜¿ç”˜æ˜¯ä¸ª"å‚»å­"ã€‚æ™ºå•†åªæœ‰75ï¼Œåˆ«äººéƒ½å«ä»–å‚»å­ã€‚

**ä½†ä»–æ´»å¾—å¾ˆçœŸå®ã€‚**

æœ€è®©æˆ‘å¿˜ä¸äº†çš„ï¼Œæ˜¯ä»–è·‘æ­¥çš„é‚£æ®µã€‚

é˜¿ç”˜è·‘äº†ä¸‰å¹´ä¸¤ä¸ªæœˆåå››å¤©åå…­å°æ—¶ã€‚

ä»–è·‘æ­¥ç©¿è¶Šç¾å›½ï¼Œä»ä¸œæµ·å²¸åˆ°è¥¿æµ·å²¸ï¼Œå†ä»è¥¿æµ·å²¸å›åˆ°ä¸œæµ·å²¸ã€‚æ²¡æœ‰ç†ç”±ï¼Œæ²¡æœ‰ç›®çš„ï¼Œå°±æ˜¯æƒ³è·‘ã€‚

***

é˜¿ç”˜è¯´ï¼š"æˆ‘å°±æ˜¯æƒ³è·‘ã€‚"

åæ¥æœ‰ä¸€å¤©ï¼Œä»–çªç„¶åœä¸‹æ¥ï¼Œè¯´ï¼š"æˆ‘ç´¯äº†ï¼Œæˆ‘è¦å›å®¶äº†ã€‚"

**å°±è¿™ä¹ˆç®€å•ã€‚**

***

## å†™ç»™åŒæ ·å¤±çœ çš„ä½ 

å¦‚æœä½ ä¹Ÿåœ¨æŸä¸ªå¤±çœ çš„å¤œæ™šï¼Œé—®è‡ªå·±åŒæ ·çš„é—®é¢˜ï¼š

**æˆ‘åˆ°åº•åœ¨è¿½æ±‚ä»€ä¹ˆï¼Ÿ**

æˆ‘æƒ³å‘Šè¯‰ä½ ï¼Œä¹Ÿè®¸æˆ‘ä»¬éƒ½æƒ³é”™äº†ã€‚

æˆ‘ä»¬ä»¥ä¸ºäººç”Ÿæ˜¯ä¸ªè¯æ˜é¢˜ï¼Œè¦è¯æ˜è‡ªå·±å¤Ÿå¥½ã€å¤ŸæˆåŠŸã€å¤Ÿå€¼å¾—è¢«çˆ±ã€‚

**ä½†ä¹Ÿè®¸ï¼Œäººç”Ÿæ ¹æœ¬ä¸æ˜¯è¯æ˜é¢˜ã€‚**

ä¹Ÿè®¸ï¼Œäººç”Ÿåªæ˜¯ä¸€åœºä½“éªŒã€‚

**ä½ ä¸å¿…æ€¥ç€è¯æ˜ä»€ä¹ˆã€‚**

**çœŸå®åœ°æ´»ç€ï¼Œå°±å¥½ã€‚**

***

å†™åˆ°è¿™é‡Œï¼Œå¤©å¿«äº®äº†ã€‚

çª—å¤–çš„é¸Ÿå¼€å§‹å«äº†ã€‚æ–°çš„ä¸€å¤©åˆè¦å¼€å§‹äº†ã€‚

ä»Šå¤©ï¼Œæˆ‘ä¸æ‰“ç®—è¯æ˜ä»€ä¹ˆã€‚

ä»Šå¤©ï¼Œæˆ‘åªæƒ³çœŸå®åœ°æ´»ç€ã€‚

ä¹Ÿè®¸è¿˜æ˜¯ä¼šè¿·èŒ«ï¼Œä¹Ÿè®¸è¿˜æ˜¯ä¼šç„¦è™‘ã€‚

**ä½†è‡³å°‘ï¼Œæ˜¯çœŸå®çš„ã€‚**

è¿™å°±å¤Ÿäº†ã€‚

---

*å†™äºä¸€ä¸ªåŒæ ·è¿·èŒ«ï¼Œä½†é€‰æ‹©çœŸå®çš„å¤œæ™š*`;

        function applyInlineStyles(html, templateName) {
            const template = templates[templateName];
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = html;

            const tagStyles = {
                'h1': template.styles.h1,
                'h2': template.styles.h2,
                'h3': template.styles.h3,
                'p': template.styles.p,
                'strong': template.styles.strong,
                'b': template.styles.strong,
                'blockquote': template.styles.blockquote,
                'code': template.styles.code,
                'pre': template.styles.pre,
                'hr': template.styles.hr,
                'ul': template.styles.ul,
                'ol': template.styles.ol,
                'li': template.styles.li,
                'em': { fontStyle: 'italic' },
                'i': { fontStyle: 'italic' }
            };

            for (const [tagName, styles] of Object.entries(tagStyles)) {
                if (!styles) continue;
                const elements = tempDiv.querySelectorAll(tagName);
                elements.forEach(element => {
                    const existingStyle = element.getAttribute('style') || '';
                    const newStyles = Object.entries(styles)
                        .map(([key, value]) => {
                            const cssKey = key.replace(/([A-Z])/g, '-$1').toLowerCase();
                            return `${cssKey}: ${value}`;
                        })
                        .join('; ');
                    element.setAttribute('style', existingStyle + (existingStyle ? ';' : '') + newStyles);
                });
            }

            return tempDiv.innerHTML;
        }

         function switchTemplate(templateName) {
             console.log('Switching to template:', templateName);
             
             if (!templates[templateName]) {
                 console.error('Template not found:', templateName);
                 return;
             }
             
             currentTemplate = templateName;

             document.querySelectorAll('.template-btn').forEach(btn => {
                 btn.classList.remove('active');
                 if (btn.dataset.template === templateName) {
                     btn.classList.add('active');
                 }
             });

             convertMarkdown();
             showMessage(`å·²åˆ‡æ¢åˆ°${templates[templateName].name}æ¨¡ç‰ˆ`);
         }

        function resetToDefault() {
            switchTemplate('simple');
        }

        function convertMarkdown() {
            const markdown = input.value;
            const html = marked.parse(markdown);
            const styledHtml = applyInlineStyles(html, currentTemplate);
            preview.innerHTML = styledHtml;
        }

        input.addEventListener('input', convertMarkdown);

         convertMarkdown();
         
         console.log('Page loaded successfully. Current template:', currentTemplate);
         console.log('Available templates:', Object.keys(templates));

         function copyToWechat() {
            const content = preview.innerHTML;
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;

            if (navigator.clipboard) {
                const blob = new Blob([content], { type: 'text/html' });
                const blobText = new Blob([tempDiv.innerText], { type: 'text/plain' });

                const data = [new ClipboardItem({
                    'text/html': blob,
                    'text/plain': blobText
                })];

                navigator.clipboard.write(data).then(() => {
                    showMessage('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼å¯ä»¥ç›´æ¥ç²˜è´´åˆ°å¾®ä¿¡å…¬ä¼—å·');
                }).catch(() => {
                    tempDiv.contentEditable = true;
                    document.body.appendChild(tempDiv);
                    tempDiv.focus();
                    document.execCommand('selectAll');
                    document.execCommand('copy');
                    document.body.removeChild(tempDiv);
                    showMessage('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                });
            } else {
                tempDiv.contentEditable = true;
                document.body.appendChild(tempDiv);
                tempDiv.focus();
                document.execCommand('selectAll');
                document.execCommand('copy');
                document.body.removeChild(tempDiv);
                showMessage('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            }
        }

        function showMessage(text) {
            const message = document.getElementById('message');
            message.textContent = text;
            message.style.display = 'block';
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>